<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-
2.dtd">

<sqlMap namespace="Member">
    
    <resultMap id="MemberList" class="Member">
		<result property="userId" column="user_id" />
		<result property="email" column="email" />
		<result property="password" column="password" />
		<result property="name" column="name" />
		<result property="me2DayKey" column="me2day_key" />
	</resultMap>
    
    <insert id="registerMember" parameterClass="Member">
        INSERT
       	INTO member	VALUES (#userId#, #password#);
    </insert>
    
    <insert id="registerMemberInfo" parameterClass="Member">
		INSERT INTO 
			member_info (user_id, name, email, me2day_key) 
		VALUES (#userId#, #name#, #email#, #me2DayKey#)
    </insert>
    
    <insert id="registerDesign" parameterClass="Member">
		INSERT INTO 
			design(user_id)
		VALUES (#userId#)
    </insert>
    
    <select id="checkId" parameterClass="String" resultClass="String">
        SELECT 
        	user_id
        FROM
        	member
        WHERE	
        	user_id = #userId#	        
    </select>
    
    <select id="login" parameterClass="Login" resultClass="String">
        SELECT 
        	user_id
        FROM
        	member
        where
        	user_id=#userId# AND password=#password#
    </select>
    
    <select id="getDesignType" parameterClass="String" resultClass="String">
        SELECT
        	type
        FROM
        	design
        WHERE
        	user_id=#userId#
    </select>
    
</sqlMap>